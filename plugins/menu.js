const config = require('../config');
const { cmd } = require('../command');
const fs = require('fs');
const path = require('path');
const os = require('os');

const quotedContact = {
  key: {
    fromMe: false,
    participant: `0@s.whatsapp.net`,
    remoteJid: "status@broadcast"
  },
  message: {
    contactMessage: {
      displayName: "NOVA XMD VERIFIED âœ…",
      vcard: `BEGIN:VCARD
VERSION:3.0
FN:B.M.B VERIFIED âœ…
ORG:BMB TECH BOT;
TEL;type=CELL;type=VOICE;waid=255767862457:+255767862457
END:VCARD`
    }
  }
};

cmd({
  pattern: "menu",
  alias: ["allmenu", "command"],
  use: '.menu',
  desc: "menu the bot",
  category: "menu",
  react: "ğŸª€",
  filename: __filename
}, async (conn, mek, m, { from, reply }) => {
  try {
    const randomIndex = Math.floor(Math.random() * 10) + 1;
    const imagePath = path.join(__dirname, '..', 'plugins', `menu${randomIndex}.jpg`);
    const imageBuffer = fs.readFileSync(imagePath);

    let dec =  `
â•­â”â”â”ã€Š âš™ï¸ NOVA XMD BOT âš™ï¸ ã€‹â”â”â”â”ˆâŠ·
â”ƒâš™ï¸â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”ƒâš™ï¸â”‚â–¸ Usá´‡Ê€      : ${config.OWNER_NAME}
â”ƒâš™ï¸â”‚â–¸ Ê™á´€ÉªÊŸá´‡Ês   : ğŒğ®ğ¥ğ­ğ¢ ğğğ¯ğ¢ğœğ
â”ƒâš™ï¸â”‚â–¸ ğ–³Êá´˜á´‡      : ğğ¨ğğğ£ğ¬
â”ƒâš™ï¸â”‚â–¸ á´˜ÊŸá´€á´›Ò“á´Ê€á´  : VPS
â”ƒâš™ï¸â”‚â–¸ ğ–¬á´á´…á´‡      : [${config.MODE}]
â”ƒâš™ï¸â”‚â–¸ ğ–¯Ê€á´‡Ò“Éªx    : [${config.PREFIX}]
â”ƒâš™ï¸â”‚â–¸ ğ–µá´‡Ê€sÉªá´É´   : 1.0.0
â”ƒâš™ï¸â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ á´›á´á´ÊŸ ÊŸÉªsá´›
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”ƒââ”ƒâ€¢ É¢á´˜á´›
â”ƒââ”ƒâ€¢ á´ á´ 
â”ƒââ”ƒâ€¢ á´ á´ 2
â”ƒââ”ƒâ€¢ Ê™ÉªÊ™ÊŸá´‡
â”ƒââ”ƒâ€¢ á´„Êœá´€É´É´á´‡ÊŸ
â”ƒââ”ƒâ€¢ á´œÉ´Ê™ÊŸá´á´„á´‹
â”ƒââ”ƒâ€¢ Ê™ÊŸá´á´„á´‹
â”ƒââ”ƒâ€¢ á´œá´˜á´›Éªá´á´‡
â”ƒââ”ƒâ€¢ É¢Éªá´›á´„ÊŸá´É´á´‡
â”ƒââ”ƒâ€¢ á´„Êœá´‡á´„á´‹
â”ƒââ”ƒâ€¢ á´˜ÉªÉ´É¢
â”ƒââ”ƒâ€¢ á´˜á´€ÉªÊ€
â”ƒââ”ƒâ€¢ á´á´¡É´á´‡Ê€
â”ƒââ”ƒâ€¢ É¢á´‡á´›á´˜á´˜
â”ƒââ”ƒâ€¢ É¢Éªá´›Êœá´œÊ™
â”ƒââ”ƒâ€¢ ÊŸÉªsá´›á´É´ÊŸÉªÉ´á´‡
â”ƒââ”ƒâ€¢ á´€ÊŸÉªá´ á´‡
â”ƒââ”ƒâ€¢ á´á´‡É´á´œ
â”ƒââ”ƒâ€¢ Ê€á´‡á´˜á´
â”ƒââ”ƒâ€¢ á´€á´›á´›á´˜
â”ƒââ”ƒâ€¢ á´˜á´sá´›
â”ƒââ”ƒâ€¢ Ê€á´‡sá´›á´€Ê€á´›
â”ƒââ”ƒâ€¢ sá´‡É´á´…
â”ƒââ”ƒâ€¢ sá´€á´ á´‡
â”ƒââ”ƒâ€¢ sá´›Éªá´„á´‹á´‡Ê€
â”ƒââ”ƒâ€¢ á´›á´€á´‹á´‡
â”ƒââ”ƒâ€¢ á´ŠÉªá´…
â”ƒââ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ á´›á´á´ÊŸ á´…á´á´¡É´ÊŸá´á´€á´… 
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â”ƒââ”ƒâ€¢ Ò“Ê™
â”ƒââ”ƒâ€¢ á´˜ÊŸá´€Ê
â”ƒââ”ƒâ€¢ á´€á´˜á´‹
â”ƒââ”ƒâ€¢ á´ Éªá´…á´‡á´
â”ƒââ”ƒâ€¢ Éªá´É¢
â”ƒââ”ƒâ€¢ á´›Éªá´‹á´›á´á´‹
â”ƒââ”ƒâ€¢ Ò“á´€É´á´„Ê
â”ƒââ”ƒâ€¢ Éªá´É¢sá´„á´€É´
â”ƒââ”ƒâ€¢ sá´›á´€Ê™ÉªÊŸÉªá´›Êá´€Éª
â”ƒââ”ƒâ€¢ Ò“ÊŸá´œxá´€Éª
â”ƒââ”ƒâ€¢ ÉªÊÊ€Éªá´„s
â”ƒââ”ƒâ€¢ á´á´á´ Éªá´‡
â”ƒââ”ƒâ€¢ sá´„Ê€á´‡á´‡É´sÊœá´á´›
â”ƒââ”ƒâ€¢ Ê€á´¡
â”ƒââ”ƒâ€¢ á´›á´á´˜á´˜á´›
â”ƒââ”ƒâ€¢ á´›á´á´á´˜3
â”ƒââ”ƒâ€¢ sÊœá´Ê€á´›
â”ƒââ”ƒâ€¢ á´„á´É´á´ á´‡Ê€á´›
â”ƒââ”ƒâ€¢ á´›Ê€á´›
â”ƒââ”ƒâ€¢ Êá´›s
â”ƒââ”ƒâ€¢ á´œÊ€ÊŸ
â”ƒââ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ á´›á´á´ÊŸ É¢Ê€á´á´œá´˜ 
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”ƒââ”ƒâ€¢ É¢á´…á´‡sá´„
â”ƒââ”ƒâ€¢ á´€á´…á´…
â”ƒââ”ƒâ€¢ á´‹Éªá´„á´‹
â”ƒââ”ƒâ€¢ ÊœÉªá´…á´‡á´›á´€É¢
â”ƒââ”ƒâ€¢ á´›á´€É¢á´€ÊŸÊŸ
â”ƒââ”ƒâ€¢ á´€É´á´›ÉªÊŸÉªÉ´á´‹
â”ƒââ”ƒâ€¢ á´¡á´‡ÊŸá´„á´á´á´‡
â”ƒââ”ƒâ€¢ É¢É´á´€á´á´‡
â”ƒââ”ƒâ€¢ É¢ÉªÉ´Ò“á´
â”ƒââ”ƒâ€¢ á´Šá´ÉªÉ´
â”ƒââ”ƒâ€¢ ÊŸÉªÉ´á´‹
â”ƒââ”ƒâ€¢ á´ á´„Ò“
â”ƒââ”ƒâ€¢ ÊŸá´‡Ò“á´›
â”ƒââ”ƒâ€¢ á´á´œá´›á´‡
â”ƒââ”ƒâ€¢ á´á´œá´›
â”ƒââ”ƒâ€¢ á´œÉ´á´á´œá´›á´‡
â”ƒââ”ƒâ€¢ É´á´‡á´¡É¢á´„
â”ƒââ”ƒâ€¢ á´…á´‡ÊŸá´‡á´›á´‡ÊŸÉªÉ´á´‹
â”ƒââ”ƒâ€¢ á´€É´á´›ÉªÊŸÉªÉ´á´‹
â”ƒââ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•®
â”‚ á´›á´á´ÊŸ sá´‡á´›á´›ÉªÉ´É¢s
â•°â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•´â•¯
â”ƒââ”ƒâ€¢ á´€É´á´›Éªá´…á´‡ÊŸá´‡á´›á´‡
â”ƒââ”ƒâ€¢ á´€É´á´›Éªá´„á´€ÊŸÊŸ
â”ƒââ”ƒâ€¢ á´€á´œá´›á´á´›Êá´˜ÉªÉ´É¢
â”ƒââ”ƒâ€¢ á´€á´œá´›á´Ê€á´‡á´„á´Ê€á´…ÉªÉ´É¢
â”ƒââ”ƒâ€¢ á´á´á´…á´‡
â”ƒââ”ƒâ€¢ sá´›á´€á´›á´œsÊ€á´‡á´€á´„á´›
â”ƒââ”ƒâ€¢ Ê€á´‡á´€á´…á´á´‡ssá´€É¢á´‡
â”ƒââ”ƒâ€¢ sá´›á´€á´›á´œsÊ€á´‡á´˜ÊŸÊ
â”ƒââ”ƒâ€¢ á´€á´œá´›á´Ê€á´‡á´€á´„á´›
â”ƒââ”ƒâ€¢ á´€á´œá´›á´Ê€á´‡á´˜ÊŸÊ
â”ƒââ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
> powered by ${config.OWNER_NAME}
`;

    await conn.sendMessage(
      from,
      {
        image: imageBuffer,
        caption: dec,
        contextInfo: {
          mentionedJid: [m.sender],
          forwardingScore: 999,
          isForwarded: true,
          forwardedNewsletterMessageInfo: {
            newsletterJid: '120363382023564830@newsletter',
            newsletterName: 'ğ—¡ğ—¢ğ—©ğ—” ğ—«ğ— ğ——',
            serverMessageId: 143
          }
        }
      },
      { quoted: quotedContact }
    );

  } catch (e) {
    console.log(e);
    reply(`${e}`);
  }
});
          
